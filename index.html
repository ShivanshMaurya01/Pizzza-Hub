<!DOCTYPE html>
<html>
<head>
<title>PizzaHub Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#f5f5f5;
transition:.3s;
}

header{
background:#e23744;
color:white;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
}

nav button{
margin-left:10px;
padding:8px 12px;
border:none;
background:white;
color:#e23744;
font-weight:bold;
cursor:pointer;
border-radius:5px;
}

.section{
display:none;
padding:20px;
}

.active{
display:block;
}

.card{
background:white;
padding:15px;
margin:10px;
border-radius:10px;
box-shadow:0 0 10px rgba(0,0,0,.1);
}

button.primary{
background:#e23744;
color:white;
border:none;
padding:8px 12px;
border-radius:5px;
cursor:pointer;
}

button.primary:hover{
opacity:.8;
}

input, select{
padding:8px;
margin:5px 0;
width:100%;
}

.flex{
display:flex;
flex-wrap:wrap;
gap:10px;
}

.toast{
position:fixed;
bottom:20px;
right:20px;
background:#333;
color:white;
padding:10px 15px;
border-radius:5px;
display:none;
}

.dark{
background:#121212;
color:white;
}

.dark .card{
background:#1e1e1e;
}

.progress{
height:10px;
background:#ddd;
border-radius:5px;
overflow:hidden;
margin:10px 0;
}

.progress-bar{
height:10px;
width:0%;
background:#e23744;
transition:1s;
}
</style>
</head>

<body>

<header>
<div><strong>üçï PizzaHub Pro</strong></div>
<nav>
<button onclick="showSection('home')">Home</button>
<button onclick="showSection('menu')">Menu</button>
<button onclick="showSection('cart')">Cart</button>
<button onclick="showSection('orders')">Orders</button>
<button onclick="toggleDark()">üåô</button>
<button onclick="logout()">Logout</button>
</nav>
</header>

<div id="home" class="section active">
<h2>Welcome to PizzaHub</h2>
<p>Order your favorite pizza instantly.</p>
</div>

<div id="login" class="section">
<h2>Login</h2>
<input id="loginUser" placeholder="Username">
<input id="loginPass" type="password" placeholder="Password">
<button class="primary" onclick="login()">Login</button>
</div>

<div id="menu" class="section">
<h2>Menu</h2>
<input id="search" placeholder="Search..." onkeyup="searchPizza()">
<div class="flex" id="menuItems"></div>
</div>

<div id="cart" class="section">
<h2>Your Cart</h2>
<div id="cartItems"></div>
<h3>Total: ‚Çπ<span id="total">0</span></h3>
<button class="primary" onclick="checkout()">Checkout</button>
</div>

<div id="checkout" class="section">
<h2>Checkout</h2>
<input id="address" placeholder="Delivery Address">
<select id="payment">
<option>Cash on Delivery</option>
<option>Card (Simulated)</option>
</select>
<button class="primary" onclick="placeOrder()">Place Order</button>
</div>

<div id="tracking" class="section">
<h2>Order Tracking</h2>
<p id="orderId"></p>
<div class="progress">
<div class="progress-bar" id="progressBar"></div>
</div>
<p id="statusText"></p>
</div>

<div id="orders" class="section">
<h2>Order History</h2>
<div id="orderHistory"></div>
</div>

<div class="toast" id="toast"></div>

<script>

let pizzas=[
{name:"Margherita",price:199},
{name:"Farmhouse",price:299},
{name:"Peppy Paneer",price:249},
{name:"Veg Extravaganza",price:349}
];

let cart=JSON.parse(localStorage.getItem("cart"))||[];
let orders=JSON.parse(localStorage.getItem("orders"))||[];
let currentUser=localStorage.getItem("user");

if(!currentUser){
showSection("login");
}else{
showSection("home");
}

function showSection(id){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
renderMenu();
renderCart();
renderOrders();
}

function renderMenu(){
let container=document.getElementById("menuItems");
container.innerHTML="";
pizzas.forEach(p=>{
container.innerHTML+=`
<div class="card">
<h3>${p.name}</h3>
<p>‚Çπ${p.price}</p>
<button class="primary" onclick="addToCart('${p.name}',${p.price})">Add</button>
</div>`;
});
}

function searchPizza(){
let input=document.getElementById("search").value.toLowerCase();
document.querySelectorAll("#menuItems .card").forEach(card=>{
let name=card.querySelector("h3").innerText.toLowerCase();
card.style.display=name.includes(input)?"block":"none";
});
}

function addToCart(name,price){
let item=cart.find(i=>i.name===name);
if(item){item.qty++;}
else{cart.push({name,price,qty:1});}
localStorage.setItem("cart",JSON.stringify(cart));
renderCart();
showToast("Added to cart");
}

function renderCart(){
let container=document.getElementById("cartItems");
container.innerHTML="";
let total=0;
cart.forEach((item,i)=>{
total+=item.price*item.qty;
container.innerHTML+=`
<div class="card">
${item.name} x ${item.qty}
<button onclick="changeQty(${i},1)">+</button>
<button onclick="changeQty(${i},-1)">-</button>
<button onclick="removeItem(${i})">Remove</button>
</div>`;
});
document.getElementById("total").innerText=total;
}

function changeQty(i,change){
cart[i].qty+=change;
if(cart[i].qty<=0)cart.splice(i,1);
localStorage.setItem("cart",JSON.stringify(cart));
renderCart();
}

function removeItem(i){
cart.splice(i,1);
localStorage.setItem("cart",JSON.stringify(cart));
renderCart();
}

function checkout(){
if(cart.length===0){showToast("Cart empty");return;}
showSection("checkout");
}

function placeOrder(){
let address=document.getElementById("address").value;
if(address.length<5){showToast("Enter valid address");return;}

let id="ORD"+Date.now();
orders.push({id,total:document.getElementById("total").innerText});
localStorage.setItem("orders",JSON.stringify(orders));
cart=[];
localStorage.setItem("cart","[]");

showSection("tracking");
document.getElementById("orderId").innerText="Order ID: "+id;
simulateTracking();
}

function simulateTracking(){
let progress=0;
let statuses=["Order Placed","Preparing","Baking","Out for Delivery","Delivered"];
let i=0;
let interval=setInterval(()=>{
progress+=25;
document.getElementById("progressBar").style.width=progress+"%";
document.getElementById("statusText").innerText=statuses[i];
i++;
if(progress>=100)clearInterval(interval);
},2000);
}

function renderOrders(){
let container=document.getElementById("orderHistory");
container.innerHTML="";
orders.forEach(o=>{
container.innerHTML+=`<div class="card">${o.id} - ‚Çπ${o.total}</div>`;
});
}

function login(){
let user=document.getElementById("loginUser").value;
let pass=document.getElementById("loginPass").value;
if(user && pass){
localStorage.setItem("user",user);
currentUser=user;
showSection("home");
}else{showToast("Enter credentials");}
}

function logout(){
localStorage.clear();
location.reload();
}

function toggleDark(){
document.body.classList.toggle("dark");
}

function showToast(msg){
let t=document.getElementById("toast");
t.innerText=msg;
t.style.display="block";
setTimeout(()=>t.style.display="none",2000);
}

</script>

</body>
</html>
