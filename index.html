<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UrbanSlice Ultimate</title>
<style>
/* ===== GLOBAL ===== */
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Arial,sans-serif;}
body{background:#0f0f0f;color:white;overflow-x:hidden;}
.hidden{display:none;}
button{cursor:pointer;border:none;padding:10px 15px;border-radius:6px;font-weight:bold;}

/* ===== SPLASH SCREEN ===== */
#splash{
position:fixed;top:0;left:0;width:100%;height:100%;background:#111;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;
}
#splash h1{font-size:50px;color:#ffcc00;margin-bottom:20px;}
#splash p{font-size:20px;color:#aaa;}

/* ===== AUTH PAGES ===== */
.auth-container{
height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#111,#1c1c1c);
}
.auth-box{
background:#1a1a1a;padding:40px;width:350px;border-radius:10px;box-shadow:0 0 30px rgba(0,0,0,0.5);
}
.auth-box h2{text-align:center;margin-bottom:20px;color:#ffcc00;}
.auth-box input{width:100%;padding:10px;margin-bottom:15px;background:#111;border:1px solid #333;color:white;}
.auth-box button{width:100%;background:#ffcc00;color:black;}
.auth-box p{margin-top:15px;text-align:center;font-size:14px;cursor:pointer;color:#aaa;}

/* ===== NAVBAR ===== */
nav{
background:#111;padding:15px 8%;display:flex;justify-content:space-between;align-items:center;position:fixed;width:100%;z-index:1000;box-shadow:0 5px 15px rgba(0,0,0,0.4);
}
nav h1{color:#ffcc00;}
nav ul{list-style:none;display:flex;gap:20px;}
nav ul li{cursor:pointer;color:#ccc;}
nav ul li:hover{color:#ffcc00;}

/* ===== HERO ===== */
.hero{height:70vh;background:url("https://images.unsplash.com/photo-1600891964599-f61ba0e24092") center/cover no-repeat;display:flex;justify-content:center;align-items:center;text-align:center;}
.hero-box{background:rgba(0,0,0,0.7);padding:40px;border-radius:10px;}
.hero-box h2{font-size:40px;margin-bottom:15px;}

/* ===== MENU ===== */
section{padding:60px 8%;}
.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
.card{background:#1a1a1a;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.3);transition:0.3s;display:flex;flex-direction:column;}
.card:hover{transform:translateY(-5px);}
.card img{width:100%;height:200px;object-fit:cover;}
.card-content{padding:15px;flex:1;display:flex;flex-direction:column;}
.card-content h3{color:#ffcc00;margin-bottom:10px;}
.price{margin-top:auto;font-weight:bold;}
.card button{margin-top:10px;background:#ffcc00;color:black;}

/* ===== CART PANEL ===== */
.cart-panel{position:fixed;right:-400px;top:0;width:350px;height:100%;background:#1a1a1a;padding:20px;transition:0.4s;overflow-y:auto;z-index:2000;}
.cart-panel.active{right:0;}
.cart-item{display:flex;justify-content:space-between;margin-bottom:10px;}

/* ===== PAYMENT SCREEN ===== */
#paymentScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#111;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:2000;}

/* ===== ORDER TRACKING ===== */
#trackingScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#111;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:2000;}
#trackingScreen p{font-size:24px;margin:20px;}

/* ===== ADMIN DASHBOARD ===== */
#adminDashboard{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f0f0f;color:white;overflow:auto;padding:40px;}
.admin-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px;}
.stat-box{background:#1a1a1a;padding:20px;border-radius:8px;text-align:center;}
table{width:100%;border-collapse:collapse;background:#1a1a1a;}
table th, table td{padding:10px;border:1px solid #333;text-align:center;}
canvas{background:#1a1a1a;margin-top:30px;}
</style>
</head>
<body>

<!-- ===== SPLASH SCREEN ===== -->
<div id="splash">
<h1>UrbanSlice Ultimate</h1>
<p>"Quality is the ingredient that turns a meal into a legend."</p>
</div>

<!-- ===== AUTH ===== -->
<div id="loginPage" class="auth-container hidden">
<div class="auth-box">
<h2>User Login</h2>
<input type="text" id="loginUsername" placeholder="Username">
<input type="password" id="loginPassword" placeholder="Password">
<button onclick="login()">Login</button>
<p onclick="showRegister()">Don't have account? Register</p>
<p onclick="showAdminLogin()">Admin Login</p>
</div>
</div>

<div id="registerPage" class="auth-container hidden">
<div class="auth-box">
<h2>Create Account</h2>
<input type="text" id="registerUsername" placeholder="Username">
<input type="password" id="registerPassword" placeholder="Password">
<button onclick="register()">Register</button>
<p onclick="showLogin()">Already have account? Login</p>
</div>
</div>

<div id="adminLoginPage" class="auth-container hidden">
<div class="auth-box">
<h2>Admin Login</h2>
<input type="password" id="adminPassword" placeholder="Enter Admin Password">
<button onclick="adminLogin()">Login</button>
<p onclick="showLogin()">Back to User Login</p>
</div>
</div>

<!-- ===== MAIN APP ===== -->
<div id="app" class="hidden">
<nav>
<h1>UrbanSlice Ultimate</h1>
<ul>
<li onclick="logout()">Logout</li>
<li onclick="toggleCart()">Cart</li>
</ul>
</nav>

<div class="hero">
<div class="hero-box">
<h2>Luxury Pizza Experience</h2>
<p>Premium taste. Premium lifestyle.</p>
</div>
</div>

<section>
<h2>Our Menu</h2>
<div class="menu-grid" id="menuContainer"></div>
</section>
</div>

<!-- ===== CART PANEL ===== -->
<div class="cart-panel" id="cartPanel">
<h2>Your Cart</h2>
<div id="cartItems"></div>
<h3>Total: ₹<span id="cartTotal">0</span></h3>
<button onclick="proceedToPayment()">Proceed to Payment</button>
</div>

<!-- ===== PAYMENT SCREEN ===== -->
<div id="paymentScreen" class="hidden">
<h2>Payment Gateway</h2>
<p>Total Amount: ₹<span id="paymentAmount"></span></p>
<button onclick="completePayment()">Pay Now</button>
<br><br>
<button onclick="cancelPayment()">Cancel</button>
</div>

<!-- ===== ORDER TRACKING ===== -->
<div id="trackingScreen" class="hidden">
<h2>Order Tracking</h2>
<p id="trackingStatus">Preparing your order...</p>
<br>
<button onclick="closeTracking()">Close</button>
</div>

<!-- ===== ADMIN DASHBOARD ===== -->
<div id="adminDashboard" class="hidden">
<div class="admin-header">
<h1>Admin Dashboard</h1>
<button onclick="closeAdmin()">Logout</button>
</div>
<div class="stats">
<div class="stat-box"><h3>Total Users</h3><p id="totalUsers">0</p></div>
<div class="stat-box"><h3>Total Orders</h3><p id="totalOrders">0</p></div>
<div class="stat-box"><h3>Total Revenue</h3><p>₹<span id="totalRevenue">0</span></p></div>
</div>
<h2>Orders Database</h2>
<table>
<thead><tr><th>Order ID</th><th>User</th><th>Amount</th><th>Status</th></tr></thead>
<tbody id="ordersTable"></tbody>
</table>
<h2>Revenue Chart</h2>
<canvas id="revenueChart" width="800" height="300"></canvas>
</div>

<script>
// ===== SPLASH SCREEN =====
setTimeout(()=>{
document.getElementById('splash').classList.add('hidden');
showLogin();
},3000);

// ===== APP DATA =====
let users=[], orders=[], menuItems=[
{id:1,name:"Margherita",price:299,img:"https://images.unsplash.com/photo-1601924638867-3f81d9e25c37"},
{id:2,name:"Pepperoni",price:399,img:"https://images.unsplash.com/photo-1594007656452-ec575aa1e7a6"},
{id:3,name:"Veggie Delight",price:349,img:"https://images.unsplash.com/photo-1627308595229-7830a5c91f9f"},
{id:4,name:"Cheese Burst",price:449,img:"https://images.unsplash.com/photo-1617196037856-8e3c4e5c0b5e"}];

let currentUser=null,cart=[];

// ===== RENDER MENU =====
function renderMenu(){
let container=document.getElementById('menuContainer');container.innerHTML='';
menuItems.forEach(item=>{
let card=document.createElement('div');card.className='card';
card.innerHTML=`<img src="${item.img}" alt="${item.name}">
<div class="card-content">
<h3>${item.name}</h3>
<p class="price">₹${item.price}</p>
<button onclick="addToCart(${item.id})">Add to Cart</button>
</div>`;
container.appendChild(card);
});
}

// ===== AUTH =====
function showLogin(){document.getElementById('loginPage').classList.remove('hidden');document.getElementById('registerPage').classList.add('hidden');document.getElementById('adminLoginPage').classList.add('hidden');document.getElementById('app').classList.add('hidden');}
function showRegister(){document.getElementById('loginPage').classList.add('hidden');document.getElementById('registerPage').classList.remove('hidden');}
function showAdminLogin(){document.getElementById('loginPage').classList.add('hidden');document.getElementById('adminLoginPage').classList.remove('hidden');}
function login(){let u=document.getElementById('loginUsername').value,p=document.getElementById('loginPassword').value;let user=users.find(x=>x.username===u && x.password===p);if(user){currentUser=user;document.getElementById('loginPage').classList.add('hidden');document.getElementById('app').classList.remove('hidden');renderMenu();}else alert('Invalid credentials');}
function register(){let u=document.getElementById('registerUsername').value,p=document.getElementById('registerPassword').value;if(!u||!p){alert('Enter username & password');return;}users.push({username:u,password:p});alert('Registered!');showLogin();}
function adminLogin(){let p=document.getElementById('adminPassword').value;if(p==='admin'){document.getElementById('adminLoginPage').classList.add('hidden');document.getElementById('adminDashboard').classList.remove('hidden');updateOrdersTable();updateStats();updateChart();}else alert('Wrong password');}
function logout(){currentUser=null;cart=[];document.getElementById('app').classList.add('hidden');showLogin();}

// ===== CART =====
function toggleCart(){document.getElementById('cartPanel').classList.toggle('active');}
function addToCart(id){let item=menuItems.find(x=>x.id===id);cart.push(item);updateCart();}
function updateCart(){let container=document.getElementById('cartItems');container.innerHTML='';let total=0;cart.forEach((item,i)=>{total+=item.price;let div=document.createElement('div');div.className='cart-item';div.innerHTML=`<span>${item.name} ₹${item.price}</span><button onclick="removeCart(${i})">X</button>`;container.appendChild(div);});document.getElementById('cartTotal').innerText=total;}
function removeCart(i){cart.splice(i,1);updateCart();}
function proceedToPayment(){if(cart.length==0){alert('Cart empty');return;}document.getElementById('paymentScreen').classList.remove('hidden');document.getElementById('paymentAmount').innerText=cart.reduce((a,b)=>a+b.price,0);}
function completePayment(){let order={id:orders.length+1,user:currentUser.username,amount:cart.reduce((a,b)=>a+b.price,0),status:"Preparing"};orders.push(order);alert('Payment Successful! Order ID: '+order.id);cart=[];updateCart();document.getElementById('paymentScreen').classList.add('hidden');trackOrder(order.id);}
function cancelPayment(){document.getElementById('paymentScreen').classList.add('hidden');}

// ===== ORDER TRACKING =====
function trackOrder(orderId){document.getElementById('trackingScreen').classList.remove('hidden');let statusEl=document.getElementById('trackingStatus');let order=orders.find(o=>o.id===orderId);if(!order)return;let statuses=["Preparing","Baking","Out for Delivery","Delivered"];let current=0;let interval=setInterval(()=>{if(current>=statuses.length){clearInterval(interval);order.status=statuses[statuses.length-1];updateOrdersTable();updateStats();return;}order.status=statuses[current];statusEl.innerText=`Order ${orderId}: ${statuses[current]}`;updateOrdersTable();current++;},2000);}
function closeTracking(){document.getElementById('trackingScreen').classList.add('hidden');}

// ===== ADMIN =====
function updateOrdersTable(){let tbody=document.getElementById('ordersTable');tbody.innerHTML='';orders.forEach(o=>{let tr=document.createElement('tr');tr.innerHTML=`<td>${o.id}</td><td>${o.user}</td><td>₹${o.amount}</td><td>${o.status}</td>`;tbody.appendChild(tr);});}
function updateStats(){document.getElementById('totalUsers').innerText=users.length;document.getElementById('totalOrders').innerText=orders.length;document.getElementById('totalRevenue').innerText=orders.reduce((a,b)=>a+b.amount,0);}
function closeAdmin(){document.getElementById('adminDashboard').classList.add('hidden');showAdminLogin();}

// ===== CHART =====
function updateChart(){let ctx=document.getElementById('revenueChart').getContext('2d');if(window.myChart)window.myChart.destroy();window.myChart=new Chart(ctx,{type:'bar',data:{labels:orders.map(o=>'Order '+o.id),datasets:[{label:'Revenue ₹',data:orders.map(o=>o.amount),backgroundColor:'#ffcc00'}]},options:{responsive:true,plugins:{legend:{display:false}}}});}
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>
