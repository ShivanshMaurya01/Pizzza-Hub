<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UrbanSlice Ultimate</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI, Arial, sans-serif;}
body{background:#0f0f0f;color:white;overflow-x:hidden;transition:background 0.5s;}
/* SPLASH SCREEN */
#splashScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#111;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;animation:fadeInOut 3s forwards;}
#splashScreen h1{font-size:50px;color:#ffcc00;margin-bottom:20px;text-align:center;animation:scaleIn 2s forwards;}
#splashScreen p{font-size:20px;color:#aaa;text-align:center;animation:fadeInText 2s forwards;}
@keyframes fadeInOut{0%{opacity:0;transform:scale(0.8);}20%{opacity:1;transform:scale(1);}80%{opacity:1;transform:scale(1);}100%{opacity:0;transform:scale(1.2);}}
@keyframes scaleIn{0%{transform:scale(0);}100%{transform:scale(1);}}
@keyframes fadeInText{0%{opacity:0;}100%{opacity:1;}}
/* GLOBAL */
.hidden{display:none;}
button{cursor:pointer;border:none;padding:10px 15px;border-radius:6px;font-weight:bold;transition:0.3s;}
button:hover{opacity:0.8;transform:scale(1.05);}
.auth-container{height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#111,#1c1c1c);transition:all 0.5s;}
.auth-box{background:#1a1a1a;padding:40px;width:350px;border-radius:10px;box-shadow:0 0 30px rgba(0,0,0,0.5);transition:all 0.5s;}
.auth-box h2{text-align:center;margin-bottom:20px;color:#ffcc00;}
.auth-box input{width:100%;padding:10px;margin-bottom:15px;background:#111;border:1px solid #333;color:white;}
.auth-box button{width:100%;background:#ffcc00;color:black;}
.auth-box p{margin-top:15px;text-align:center;font-size:14px;cursor:pointer;color:#aaa;}
nav{background:#111;padding:15px 8%;display:flex;justify-content:space-between;align-items:center;position:fixed;width:100%;z-index:1000;box-shadow:0 5px 15px rgba(0,0,0,0.4);transition:all 0.5s;}
nav h1{color:#ffcc00;}
nav ul{list-style:none;display:flex;gap:20px;}
nav ul li{cursor:pointer;color:#ccc;}
nav ul li:hover{color:#ffcc00;}
#app{padding-top:80px;transition:all 0.5s;}
.hero{height:70vh;background:url("https://images.unsplash.com/photo-1600891964599-f61ba0e24092") center/cover no-repeat;display:flex;justify-content:center;align-items:center;text-align:center;transition:all 0.5s;}
.hero-box{background:rgba(0,0,0,0.7);padding:40px;border-radius:10px;transition:all 0.5s;}
.hero-box h2{font-size:40px;margin-bottom:15px;}
section{padding:60px 8%;transition:all 0.5s;}
.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
.card{background:#1a1a1a;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.3);transition:0.5s;display:flex;flex-direction:column;}
.card:hover{transform:translateY(-10px) rotate(-1deg) scale(1.03);box-shadow:0 10px 25px rgba(255,204,0,0.5);}
.card img{width:100%;height:200px;object-fit:cover;transition:all 0.5s;}
.card-content{padding:15px;flex:1;display:flex;flex-direction:column;transition:all 0.5s;}
.card-content h3{color:#ffcc00;margin-bottom:10px;}
.price{margin-top:auto;font-weight:bold;}
.card button{margin-top:10px;background:#ffcc00;color:black;}
.cart-panel{position:fixed;right:-400px;top:0;width:350px;height:100%;background:#1a1a1a;padding:20px;transition:0.5s;overflow-y:auto;z-index:2000;}
.cart-panel.active{right:0;}
.cart-item{display:flex;justify-content:space-between;margin-bottom:10px;}
#paymentScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#111;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:all 0.5s;}
#trackingScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);display:flex;justify-content:center;align-items:center;flex-direction:column;color:#ffcc00;font-size:24px;z-index:3000;transition:all 0.5s;}
.progress-bar{width:80%;height:25px;border:1px solid #333;border-radius:5px;margin-top:20px;overflow:hidden;}
.progress-bar-fill{height:100%;width:0%;background:#ffcc00;transition:width 0.5s;}
#adminDashboard{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f0f0f;color:white;overflow:auto;padding:40px;transition:all 0.5s;}
.admin-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px;}
.stat-box{background:#1a1a1a;padding:20px;border-radius:8px;text-align:center;transition:all 0.5s;}
table{width:100%;border-collapse:collapse;background:#1a1a1a;transition:all 0.5s;}
table th, table td{padding:10px;border:1px solid #333;text-align:center;}
canvas{background:#1a1a1a;margin-top:30px;transition:all 0.5s;}
</style>
</head>
<body>
<!-- SPLASH SCREEN -->
<div id="splashScreen">
    <h1>UrbanSlice Ultimate</h1>
    <p>"A true warrior doesn’t wait for the storm, he becomes the storm."</p>
</div>

<!-- AUTH -->
<div id="loginPage" class="auth-container hidden">
  <div class="auth-box">
    <h2>User Login</h2>
    <input type="text" id="loginUsername" placeholder="Username">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="login()">Login</button>
    <p onclick="showRegister()">Don't have account? Register</p>
    <p onclick="showAdminLogin()">Admin Login</p>
  </div>
</div>
<div id="registerPage" class="auth-container hidden">
  <div class="auth-box">
    <h2>Create Account</h2>
    <input type="text" id="registerUsername" placeholder="Username">
    <input type="password" id="registerPassword" placeholder="Password">
    <button onclick="register()">Register</button>
    <p onclick="showLogin()">Already have account? Login</p>
  </div>
</div>
<div id="adminLoginPage" class="auth-container hidden">
  <div class="auth-box">
    <h2>Admin Login</h2>
    <input type="password" id="adminPassword" placeholder="Enter Admin Password">
    <button onclick="adminLogin()">Login</button>
    <p onclick="showLogin()">Back to User Login</p>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">
<nav>
  <h1>UrbanSlice Ultimate</h1>
  <ul>
    <li onclick="logout()">Logout</li>
    <li onclick="toggleCart()">Cart</li>
  </ul>
</nav>
<div class="hero">
  <div class="hero-box">
    <h2>Luxury Pizza Experience</h2>
    <p>Premium taste. Premium lifestyle.</p>
  </div>
</div>
<section>
  <h2>Our Menu</h2>
  <div class="menu-grid" id="menuContainer"></div>
</section>
</div>

<!-- CART -->
<div class="cart-panel" id="cartPanel">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <h3>Total: ₹<span id="cartTotal">0</span></h3>
  <button onclick="proceedToPayment()">Proceed to Payment</button>
</div>

<!-- PAYMENT -->
<div id="paymentScreen" class="hidden">
  <h2>Payment Gateway</h2>
  <p>Total Amount: ₹<span id="paymentAmount"></span></p>
  <button onclick="completePayment()">Pay Now</button>
  <br><br>
  <button onclick="cancelPayment()">Cancel</button>
</div>

<!-- TRACKING -->
<div id="trackingScreen" class="hidden">
  <h2>Order Tracking</h2>
  <p id="trackingStatus">Preparing your order...</p>
  <div class="progress-bar"><div class="progress-bar-fill" id="progressFill"></div></div>
  <br>
  <button onclick="closeTracking()">Close</button>
</div>

<!-- ADMIN -->
<div id="adminDashboard" class="hidden">
<div class="admin-header">
  <h1>Admin Dashboard</h1>
  <button onclick="closeAdmin()">Logout</button>
</div>
<div class="stats">
  <div class="stat-box"><h3>Total Users</h3><p id="totalUsers">0</p></div>
  <div class="stat-box"><h3>Total Orders</h3><p id="totalOrders">0</p></div>
  <div class="stat-box"><h3>Total Revenue</h3><p>₹<span id="totalRevenue">0</span></p></div>
</div>
<h2>Orders Database</h2>
<table>
  <thead><tr><th>Order ID</th><th>User</th><th>Amount</th><th>Status</th></tr></thead>
  <tbody id="ordersTable"></tbody>
</table>
<h2>Revenue Chart</h2>
<canvas id="revenueChart" width="800" height="300"></canvas>
</div>

<script>
// SPLASH
window.addEventListener("load", ()=>{
    setTimeout(()=>{document.getElementById("splashScreen").classList.add("hidden");showLogin();},3000);
});
// DATA
let users=[],orders=[];
let menuItems=[
{id:1,name:"Margherita Pizza",price:299,img:"https://images.unsplash.com/photo-1594007656653-60e2909f5eaf"},
{id:2,name:"Pepperoni Pizza",price:399,img:"https://images.unsplash.com/photo-1603071504024-3ce36d7a7f33"},
{id:3,name:"Veggie Delight",price:349,img:"https://images.unsplash.com/photo-1601924582975-3f0ef2d64ec6"},
{id:4,name:"Cheese Burst",price:399,img:"https://images.unsplash.com/photo-1601924583033-2a8e1c29fc3b"},
];

// AUTH
function showLogin(){document.getElementById("loginPage").classList.remove("hidden");document.getElementById("registerPage").classList.add("hidden");document.getElementById("adminLoginPage").classList.add("hidden");document.getElementById("app").classList.add("hidden");document.getElementById("adminDashboard").classList.add("hidden");}
function showRegister(){document.getElementById("registerPage").classList.remove("hidden");document.getElementById("loginPage").classList.add("hidden");}
function showAdminLogin(){document.getElementById("adminLoginPage").classList.remove("hidden");document.getElementById("loginPage").classList.add("hidden");}
function login(){let u=document.getElementById("loginUsername").value;if(!u){alert("Enter username");return;}users.push({username:u});document.getElementById("loginPage").classList.add("hidden");document.getElementById("app").classList.remove("hidden");renderMenu();}
function register(){let u=document.getElementById("registerUsername").value;if(!u){alert("Enter username");return;}users.push({username:u});alert("Registered! Please login.");showLogin();}
function adminLogin(){let p=document.getElementById("adminPassword").value;if(p==="admin123"){document.getElementById("adminLoginPage").classList.add("hidden");document.getElementById("adminDashboard").classList.remove("hidden");updateOrdersTable();}else{alert("Wrong password");}}
function logout(){showLogin();}
function closeAdmin(){showLogin();}

// MENU & CART
function renderMenu(){
    let container=document.getElementById("menuContainer");container.innerHTML="";
    menuItems.forEach(item=>{
        let card=document.createElement("div");card.className="card";
        card.innerHTML=`<img src="${item.img}"><div class="card-content"><h3>${item.name}</h3><p>₹${item.price}</p><button onclick="addToCart(${item.id})">Add to Cart</button></div>`;
        container.appendChild(card);
    });
}
let cart=[];
function toggleCart(){document.getElementById("cartPanel").classList.toggle("active");}
function addToCart(id){let item=menuItems.find(i=>i.id===id);cart.push(item);renderCart();}
function renderCart(){let container=document.getElementById("cartItems"); container.innerHTML=""; let total=0; cart.forEach((i,idx)=>{total+=i.price;container.innerHTML+=`<div class="cart-item">${i.name} - ₹${i.price} <button onclick="removeCart(${idx})">X</button></div>`;});document.getElementById("cartTotal").innerText=total;}
function removeCart(idx){cart.splice(idx,1);renderCart();}
function proceedToPayment(){if(cart.length===0){alert("Cart empty");return;}document.getElementById("paymentScreen").classList.remove("hidden");document.getElementById("paymentAmount").innerText=cart.reduce((a,b)=>a+b.price,0);}
function completePayment(){let orderId=orders.length+1;let username=document.getElementById("loginUsername").value;let amount=cart.reduce((a,b)=>a+b.price,0);let order={id:orderId,user:username,amount,status:"Preparing"};orders.push(order);document.getElementById("paymentScreen").classList.add("hidden");cart=[];renderCart();toggleCart();trackOrder(orderId);updateOrdersTable();}
function cancelPayment(){document.getElementById("paymentScreen").classList.add("hidden");}

// ORDER TRACKING
function trackOrder(orderId){
    document.getElementById("trackingScreen").classList.remove("hidden");
    let statusEl=document.getElementById("trackingStatus");
    let fillEl=document.getElementById("progressFill");
    let order=orders.find(o=>o.id===orderId); if(!order) return;
    let statuses=["Preparing","Baking","Out for Delivery","Delivered"];
    let current=0;
    let interval=setInterval(()=>{
        if(current>=statuses.length){clearInterval(interval);order.status=statuses[statuses.length-1];updateOrdersTable();return;}
        order.status=statuses[current];statusEl.innerText=`Order ${orderId}: ${statuses[current]}`;
        fillEl.style.width=`${((current+1)/statuses.length)*100}%`;updateOrdersTable();current++;
    },1500);
}
function closeTracking(){document.getElementById("trackingScreen").classList.add("hidden");document.getElementById("progressFill").style.width="0%";}

// ADMIN
function updateOrdersTable(){
    document.getElementById("ordersTable").innerHTML="";
    orders.forEach(o=>{document.getElementById("ordersTable").innerHTML+=`<tr><td>${o.id}</td><td>${o.user}</td><td>₹${o.amount}</td><td>${o.status}</td></tr>`;});
    document.getElementById("totalUsers").innerText=users.length;
    document.getElementById("totalOrders").innerText=orders.length;
    document.getElementById("totalRevenue").innerText=orders.reduce((a,b)=>a+b.amount,0);
    renderRevenueChart();
}
// CHART
function renderRevenueChart(){
    let canvas=document.getElementById("revenueChart");let ctx=canvas.getContext("2d");ctx.clearRect(0,0,canvas.width,canvas.height);
    let max=Math.max(...orders.map(o=>o.amount),100);
    orders.forEach((o,idx)=>{
        let barHeight=(o.amount/max)*(canvas.height-50);
        ctx.fillStyle="#ffcc00";
        ctx.fillRect(50+idx*100,canvas.height-50,50,-barHeight);
        ctx.strokeStyle="#fff";
        ctx.beginPath();ctx.moveTo(75+idx*100,canvas.height-50-barHeight);if(idx>0){ctx.lineTo(75+(idx-1)*100,canvas.height-50-(orders[idx-1].amount/max)*(canvas.height-50));}ctx.stroke();
        ctx.fillStyle="#fff";ctx.fillText(o.user,50+idx*100,canvas.height-30);
    });
}
</script>
</body>
</html>
